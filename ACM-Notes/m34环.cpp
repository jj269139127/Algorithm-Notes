#include<stdio.h>
int main()
{
	int a[100][9],n,m,t,i,j,k;
	long int s1,s2,s;
	while(scanf("%d",&n)!=EOF)
	{
		for(i=0;i<n;i++)
			for(j=0;j<9;j++)
				scanf("%d",&a[i][j]);
		for(i=0;i<n;i++)
		{
			m=0;
			s1=a[i][0]*100000000+a[i][1]*10000000+a[i][2]*1000000+a[i][3]*100000+a[i][4]*10000+a[i][5]*1000+a[i][6]*100+a[i][7]*10+a[i][8];
			s2=a[i][8]*100000000+a[i][7]*10000000+a[i][6]*1000000+a[i][5]*100000+a[i][4]*10000+a[i][3]*1000+a[i][2]*100+a[i][1]*10+a[i][0];
			if(s1>s2)      s=s1-s2;
			else           s=s2-s1;
			if(s%396==0)   m++;
			for(k=1;k<9;k++)
			{
				t=a[i][0];
				for(j=0;j<8;j++)
					a[i][j]=a[i][j+1];
				a[i][8]=t;
				s1=a[i][0]*100000000+a[i][1]*10000000+a[i][2]*1000000+a[i][3]*100000+a[i][4]*10000+a[i][5]*1000+a[i][6]*100+a[i][7]*10+a[i][8];
				s2=a[i][8]*100000000+a[i][7]*10000000+a[i][6]*1000000+a[i][5]*100000+a[i][4]*10000+a[i][3]*1000+a[i][2]*100+a[i][1]*10+a[i][0];
				if(s1>s2)      s=s1-s2;
				else           s=s2-s1;
				if(s%396==0)   m++;
			}
			printf("%d\n",m);
		}
	}

	return 0;
}